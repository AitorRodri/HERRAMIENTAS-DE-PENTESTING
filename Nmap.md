<h1 align="center">Nmap</h1>

# DEFINICIÓN

Nmap permite a los administradores de red encontrar qué dispositivos se están ejecutando en su red, descubrir puertos y servicios abiertos y detectar vulnerabilidades.

# ESCANEOS CON NMAP

## Escaneo básico de los puertos abiertos

- `nmap *ip victima*`

## Lanza un ping a toda la red para descubrir los host

- `nmap -sn 192.168.11.0/24`

## Averiguar el sistema operativo operativo de un equipo

- `nmap -O 192.168.11.20/24`

## Ejemplo de escaneo avanzado con nmap

- `nmap -sV -sC -sS --spoof-mac 00:11:22:33:44 *ip victima* -oN *nombre*`

### Explicación

- \-sV: Encuentra la versión de los servicios que hay detrás del puerto
- \-sC: Scripts de nmap que dan más información del servicio
- \-sS: Forma para hacerlo más sigiloso, envía paquetes SYN
- \--spoof-mac: Aparece tu mac cambiada en los logs de la víctima
- \-sVC: Menciona la versión de los servicios y lanza los scripts por defecto de nmap
- \-oN: Redirección al fichero que se indica a continuación

## Otro ejemplo de escaneo avanzado con nmap

- `nmap -p- --open -sVC --min-rate=5000 -n -vvv -pN *ip victima*`

### Explicación

- \-p-: Escanea todos los puertos 1-65535
- \--open: Solo muestra los puertos abiertos
- \-sVC: Menciona la versión de los servicios y lanza los scripts por defecto de nmap
- \-n: Para no realizar resoluciones por DNS
- \-vvv: Modo verbose
- \-pN: Se asume que el host está activo, no se envía un ping

# LANZAR ATAQUES CON NMAP

## FUERZA BRUTA AL PROTOCOLO FTP

- `nmap --script=ftp-brute --script-args userdb=user.txt,passdb=rockyou.txt -p 21 *ip victima*`

### Explicación

- \--script=ftp-brute: Lanza un script de nmap de fuerza bruta al servicio ftp
- userdb=user.txt Prueba los usuarios que estén nombrados dentro del txt
- passdb=rockyou.txt Prueba las contraseñas que estén nombrados dentro del txt (rockyou es un diccionario de contraseñas)
- \-p 21= puerto al que se ataca

## ESCANEO DE VULNERABILIDADES AL PROTOCOLO SMB

- `sudo nmap --script *vuln* -p445 *ip victima*`

### Explicación

- \--script \*vuln\*: Encuentra fallos de seguridad típicos en una máquina
- \--script \*all\*: Encuentra fallos de seguridad típicos en una máquina utilizando todos los scripts de nmap
- \-p445: Es el puerto SMB, en Windows suele tener muchas vulnerabilidades

Al lanzarlo te dice si la máquina es vulnerable a algún script de nmap.
